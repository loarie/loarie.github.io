!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("queue",e):n.queue=e()}(this,function(){"use strict";function n(){}function e(e){function r(){for(;c=s<p.length&&e>d;){var n=s++,t=p[n],r=t.length-1,i=t[r];p[n]=u,++d,t[r]=o(n),i.apply(null,t)}}function o(n){return function(e,t){if(p[n]!==u)throw new Error;p[n]=null,--d,null==w&&(null!=e?(w=e,s=h=NaN,l()):(p[n]=t,--h?c||r():l()))}}function i(){if(g!==n)throw new Error}function l(){null!=w?g(w):a?g(w,p):g.apply(null,[w].concat(p))}var f,c,a,p=[],s=0,d=0,h=0,w=null,g=n;return e=arguments.length?+e:1/0,f={defer:function(n){if(i(),!w){var e=t.call(arguments,1);e.push(n),p.push(e),++h,r()}return f},await:function(n){return i(),g=n,a=!1,h||l(),f},awaitAll:function(n){return i(),g=n,a=!0,h||l(),f}}}var t=[].slice,u={};return e.version="1.1.0",e});